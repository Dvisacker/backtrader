2019-05-31 15:56:25,553 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-05-31T06:56:23.498Z","symbol":"XRPM19","side":"Buy","size":1000,"price":0.000051,"tickDirection":"ZeroPlusTick","trdMatchID":"11357ab1-7c76-44e3-53fd-01db7afc9ce3","grossValue":5100000,"homeNotional":1000,"foreignNotional":0.051}]}
2019-05-31 15:56:25,845 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 56, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 112, in _insert_new_bar_bitmex
    self.symbol_data['bitmex'][symbol].append(tick)
KeyError: 'XRPM19'
2019-05-31 15:56:37,828 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-05-31T06:56:35.809Z","symbol":"XRPM19","side":"Sell","size":99,"price":0.00005099,"tickDirection":"MinusTick","trdMatchID":"62e8222e-ee86-808f-337e-86f5ff86e864","grossValue":504801,"homeNotional":99,"foreignNotional":0.00504801},{"timestamp":"2019-05-31T06:56:35.809Z","symbol":"XRPM19","side":"Sell","size":1001,"price":0.00005099,"tickDirection":"ZeroMinusTick","trdMatchID":"590ca86d-e456-d4b2-a482-cfd61dc3c7ef","grossValue":5104099,"homeNotional":1001,"foreignNotional":0.05104099}]}
2019-05-31 15:56:38,112 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 56, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 112, in _insert_new_bar_bitmex
    self.symbol_data['bitmex'][symbol].append(tick)
KeyError: 'XRPM19'
2019-05-31 15:56:41,160 : ERROR : BITMEX: error handling message {"table":"trade","action":"partial","keys":[],"types":{"timestamp":"timestamp","symbol":"symbol","side":"symbol","size":"long","price":"float","tickDirection":"symbol","trdMatchID":"guid","grossValue":"long","homeNotional":"float","foreignNotional":"float"},"foreignKeys":{"symbol":"instrument","side":"side"},"attributes":{"timestamp":"sorted","symbol":"grouped"},"filter":{"symbol":"ETHM19"},"data":[{"timestamp":"2019-05-31T06:51:28.712Z","symbol":"ETHM19","side":"Sell","size":5,"price":0.03093,"tickDirection":"ZeroMinusTick","trdMatchID":"b04abb2f-8c92-b434-4328-c1f8300fe3b4","grossValue":15465000,"homeNotional":5,"foreignNotional":0.15465}]}
2019-05-31 15:56:41,514 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 56, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 112, in _insert_new_bar_bitmex
    self.symbol_data['bitmex'][symbol].append(tick)
KeyError: 'XRPM19'
2019-05-31 16:22:23,613 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-05-31T07:22:21.825Z","symbol":"XRPM19","side":"Buy","size":2746,"price":0.00005088,"tickDirection":"ZeroPlusTick","trdMatchID":"d85fcc83-4747-3a1c-83ca-237e832e477c","grossValue":13971648,"homeNotional":2746,"foreignNotional":0.13971648},{"timestamp":"2019-05-31T07:22:21.825Z","symbol":"XRPM19","side":"Buy","size":5054,"price":0.00005088,"tickDirection":"ZeroPlusTick","trdMatchID":"8f924630-76f3-d172-2081-f4c2de5cd876","grossValue":25714752,"homeNotional":5054,"foreignNotional":0.25714752}]}
2019-05-31 16:22:23,894 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 56, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 113, in _insert_new_bar_bitmex
    self.symbol_data['bitmex'][symbol].append(tick)
KeyError: 'XBTM19'
2019-05-31 16:22:51,217 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-05-31T07:22:50.261Z","symbol":"XRPM19","side":"Buy","size":17,"price":0.00005088,"tickDirection":"ZeroPlusTick","trdMatchID":"1b5f5df3-155f-3e86-af8e-b678cd8a602e","grossValue":86496,"homeNotional":17,"foreignNotional":0.00086496}]}
2019-05-31 16:22:51,502 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 56, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 113, in _insert_new_bar_bitmex
    self.symbol_data['bitmex'][symbol].append(tick)
KeyError: 'XBTM19'
2019-05-31 16:22:54,799 : ERROR : BITMEX: error handling message {"table":"trade","action":"partial","keys":[],"types":{"timestamp":"timestamp","symbol":"symbol","side":"symbol","size":"long","price":"float","tickDirection":"symbol","trdMatchID":"guid","grossValue":"long","homeNotional":"float","foreignNotional":"float"},"foreignKeys":{"symbol":"instrument","side":"side"},"attributes":{"timestamp":"sorted","symbol":"grouped"},"filter":{"symbol":"ETHM19"},"data":[{"timestamp":"2019-05-31T07:18:29.025Z","symbol":"ETHM19","side":"Sell","size":2,"price":0.03077,"tickDirection":"MinusTick","trdMatchID":"fa328d91-448d-6616-40cb-f1e1cc2a7b48","grossValue":6154000,"homeNotional":2,"foreignNotional":0.06154}]}
2019-05-31 16:22:55,079 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 56, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 113, in _insert_new_bar_bitmex
    self.symbol_data['bitmex'][symbol].append(tick)
KeyError: 'XBTM19'
2019-05-31 16:22:58,170 : ERROR : BITMEX: error handling message {"table":"trade","action":"partial","keys":[],"types":{"timestamp":"timestamp","symbol":"symbol","side":"symbol","size":"long","price":"float","tickDirection":"symbol","trdMatchID":"guid","grossValue":"long","homeNotional":"float","foreignNotional":"float"},"foreignKeys":{"symbol":"instrument","side":"side"},"attributes":{"timestamp":"sorted","symbol":"grouped"},"filter":{"symbol":"ETHM19"},"data":[{"timestamp":"2019-05-31T07:18:29.025Z","symbol":"ETHM19","side":"Sell","size":2,"price":0.03077,"tickDirection":"MinusTick","trdMatchID":"fa328d91-448d-6616-40cb-f1e1cc2a7b48","grossValue":6154000,"homeNotional":2,"foreignNotional":0.06154}]}
2019-05-31 16:22:58,631 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 56, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 113, in _insert_new_bar_bitmex
    self.symbol_data['bitmex'][symbol].append(tick)
KeyError: 'XBTM19'
2019-05-31 16:23:01,372 : ERROR : BITMEX: error handling message {"table":"trade","action":"partial","keys":[],"types":{"timestamp":"timestamp","symbol":"symbol","side":"symbol","size":"long","price":"float","tickDirection":"symbol","trdMatchID":"guid","grossValue":"long","homeNotional":"float","foreignNotional":"float"},"foreignKeys":{"symbol":"instrument","side":"side"},"attributes":{"timestamp":"sorted","symbol":"grouped"},"filter":{"symbol":"ETHM19"},"data":[{"timestamp":"2019-05-31T07:18:29.025Z","symbol":"ETHM19","side":"Sell","size":2,"price":0.03077,"tickDirection":"MinusTick","trdMatchID":"fa328d91-448d-6616-40cb-f1e1cc2a7b48","grossValue":6154000,"homeNotional":2,"foreignNotional":0.06154}]}
2019-05-31 16:23:01,656 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 56, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 113, in _insert_new_bar_bitmex
    self.symbol_data['bitmex'][symbol].append(tick)
KeyError: 'XBTM19'
2019-06-01 00:52:11,600 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-05-31T15:52:10.841Z","symbol":"XRPM19","side":"Buy","size":100,"price":0.000051,"tickDirection":"ZeroMinusTick","trdMatchID":"b3987b9c-5ec0-b3cc-50fb-b0fdd59da880","grossValue":510000,"homeNotional":100,"foreignNotional":0.0051}]}
2019-06-01 00:52:12,150 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 56, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 114, in _insert_new_bar_bitmex
    self.symbol_data['bitmex'][symbol].append(tick)
KeyError: 'XBTM19'
2019-06-01 00:54:16,483 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-05-31T15:54:15.872Z","symbol":"XRPM19","side":"Sell","size":60,"price":0.00005113,"tickDirection":"MinusTick","trdMatchID":"c490fa1c-8bd6-1403-3235-8d938d8691d6","grossValue":306780,"homeNotional":60,"foreignNotional":0.0030678}]}
2019-06-01 00:54:16,851 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 56, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 114, in _insert_new_bar_bitmex
    self.symbol_data['bitmex'][symbol].append(tick)
KeyError: 'XBTM19'
2019-06-01 00:54:20,557 : ERROR : BITMEX: error handling message {"table":"trade","action":"partial","keys":[],"types":{"timestamp":"timestamp","symbol":"symbol","side":"symbol","size":"long","price":"float","tickDirection":"symbol","trdMatchID":"guid","grossValue":"long","homeNotional":"float","foreignNotional":"float"},"foreignKeys":{"symbol":"instrument","side":"side"},"attributes":{"timestamp":"sorted","symbol":"grouped"},"filter":{"symbol":"ETHM19"},"data":[{"timestamp":"2019-05-31T15:53:13.903Z","symbol":"ETHM19","side":"Buy","size":5,"price":0.03101,"tickDirection":"PlusTick","trdMatchID":"c9d2a065-350c-23f3-7588-aea2eaa58522","grossValue":15505000,"homeNotional":5,"foreignNotional":0.15505}]}
2019-06-01 00:54:21,171 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 56, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 114, in _insert_new_bar_bitmex
    self.symbol_data['bitmex'][symbol].append(tick)
KeyError: 'XBTM19'
2019-06-01 01:00:32,154 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-05-31T16:00:31.400Z","symbol":"XRPM19","side":"Buy","size":6000,"price":0.00005101,"tickDirection":"ZeroPlusTick","trdMatchID":"38b01e0e-9386-01d0-5670-5fe8d6c34c34","grossValue":30606000,"homeNotional":6000,"foreignNotional":0.30606}]}
2019-06-01 01:00:32,564 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 56, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 112, in _insert_new_bar_bitmex
    self.symbol_data['bitmex'][symbol].append(tick)
KeyError: 'XBTM19'
2019-06-01 01:00:40,244 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-05-31T16:00:37.550Z","symbol":"XBTM19","side":"Buy","size":1000,"price":8393,"tickDirection":"ZeroPlusTick","trdMatchID":"11a4486a-bd1d-593c-2026-750c2bb2080e","grossValue":11915000,"homeNotional":0.11915,"foreignNotional":1000}]}
2019-06-01 01:00:40,516 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 56, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 112, in _insert_new_bar_bitmex
    self.symbol_data['bitmex'][symbol].append(tick)
KeyError: 'XBTM19'
2019-06-01 01:05:13,337 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-05-31T16:05:13.135Z","symbol":"XBTM19","side":"Buy","size":3,"price":8398,"tickDirection":"PlusTick","trdMatchID":"83fa0c68-9352-6d81-be44-66a00e86d872","grossValue":35724,"homeNotional":0.00035724,"foreignNotional":3}]}
2019-06-01 01:05:14,009 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 56, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 113, in _insert_new_bar_bitmex
    self.symbol_data['bitmex'][symbol].append(tick)
KeyError: 'XBTM19'
2019-06-01 01:05:21,372 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-05-31T16:05:20.926Z","symbol":"XBTM19","side":"Buy","size":2000,"price":8398.5,"tickDirection":"ZeroPlusTick","trdMatchID":"02c1d5d4-24e8-d673-4298-d55a62e0b552","grossValue":23814000,"homeNotional":0.23814,"foreignNotional":2000}]}
2019-06-01 01:05:21,938 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 56, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 113, in _insert_new_bar_bitmex
    self.symbol_data['bitmex'][symbol].append(tick)
KeyError: 'XBTM19'
2019-06-01 01:14:01,476 : ERROR : BITMEX: Error message from exchange: {'status': 400, 'error': 'You are already subscribed to this topic: trade:ETHM19', 'meta': {}, 'request': {'op': 'subscribe', 'args': ['trade:ETHM19', 'trade:LTCM19', 'trade:TRXM19', 'trade:XRPM19', 'trade:XBTM19', 'trade:ETHM19']}}
2019-06-03 17:43:12,507 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T08:42:57.862Z","symbol":"TRXM19","side":"Buy","size":64785,"price":0.00000435,"tickDirection":"PlusTick","trdMatchID":"7144d1df-ae65-f361-2c6d-ec5aad410d42","grossValue":28181475,"homeNotional":64785,"foreignNotional":0.28181475},{"timestamp":"2019-06-03T08:42:57.862Z","symbol":"TRXM19","side":"Buy","size":40000,"price":0.00000435,"tickDirection":"ZeroPlusTick","trdMatchID":"0cf29f9a-c9fd-7900-4a87-da98d4c8ae51","grossValue":17400000,"homeNotional":40000,"foreignNotional":0.174},{"timestamp":"2019-06-03T08:42:57.862Z","symbol":"TRXM19","side":"Buy","size":114,"price":0.00000435,"tickDirection":"ZeroPlusTick","trdMatchID":"68df97b6-a877-0202-dc91-d2599ddd44f8","grossValue":49590,"homeNotional":114,"foreignNotional":0.0004959},{"timestamp":"2019-06-03T08:42:57.862Z","symbol":"TRXM19","side":"Buy","size":45101,"price":0.00000435,"tickDirection":"ZeroPlusTick","trdMatchID":"1f578e46-8ef0-4a5c-4d18-27a222e80ea6","grossValue":19618935,"homeNotional":45101,"foreignNotional":0.19618935}]}
2019-06-03 17:43:12,819 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 75, in __call__
    self.data[i]['vwap'] /= self.data[i]['volume']
ZeroDivisionError: division by zero
2019-06-03 18:13:14,264 : ERROR : BITMEX: error handling message {"table":"trade","action":"partial","keys":[],"types":{"timestamp":"timestamp","symbol":"symbol","side":"symbol","size":"long","price":"float","tickDirection":"symbol","trdMatchID":"guid","grossValue":"long","homeNotional":"float","foreignNotional":"float"},"foreignKeys":{"symbol":"instrument","side":"side"},"attributes":{"timestamp":"sorted","symbol":"grouped"},"filter":{"symbol":"ETHM19"},"data":[{"timestamp":"2019-06-03T09:12:51.073Z","symbol":"ETHM19","side":"Buy","size":10,"price":0.03117,"tickDirection":"ZeroPlusTick","trdMatchID":"c22530e8-f315-acb2-4f58-868bb738c0fe","grossValue":31170000,"homeNotional":10,"foreignNotional":0.3117}]}
2019-06-03 18:13:14,730 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:14:10,303 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:13:56.657Z","symbol":"XBTM19","side":"Sell","size":500,"price":8497.5,"tickDirection":"ZeroMinusTick","trdMatchID":"39b15bac-b3f8-b50d-9cda-77d00e3d8a78","grossValue":5884000,"homeNotional":0.05884,"foreignNotional":500}]}
2019-06-03 18:14:10,610 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:14:22,796 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:14:08.028Z","symbol":"XBTM19","side":"Sell","size":322,"price":8495.5,"tickDirection":"ZeroMinusTick","trdMatchID":"6fb505fa-8220-f1a9-75e6-e2d07d0b8f2c","grossValue":3790262,"homeNotional":0.03790262,"foreignNotional":322}]}
2019-06-03 18:14:23,103 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:14:30,987 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:14:17.416Z","symbol":"TRXM19","side":"Sell","size":1045,"price":0.00000432,"tickDirection":"ZeroMinusTick","trdMatchID":"a62eff3e-b801-c052-50e6-491478d99f90","grossValue":451440,"homeNotional":1045,"foreignNotional":0.0045144}]}
2019-06-03 18:14:31,273 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:14:45,323 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:14:31.273Z","symbol":"XBTM19","side":"Sell","size":1300,"price":8493,"tickDirection":"ZeroMinusTick","trdMatchID":"00dc8e34-7af2-e0da-8c5e-85e35916049d","grossValue":15306200,"homeNotional":0.153062,"foreignNotional":1300},{"timestamp":"2019-06-03T09:14:31.273Z","symbol":"XBTM19","side":"Sell","size":200,"price":8493,"tickDirection":"ZeroMinusTick","trdMatchID":"c86bfc26-a364-ef15-8a22-0585c4a26c6b","grossValue":2354800,"homeNotional":0.023548,"foreignNotional":200},{"timestamp":"2019-06-03T09:14:31.273Z","symbol":"XBTM19","side":"Sell","size":100,"price":8493,"tickDirection":"ZeroMinusTick","trdMatchID":"bc7e551a-742f-76d9-0faf-40a0b8dbeb34","grossValue":1177400,"homeNotional":0.011774,"foreignNotional":100},{"timestamp":"2019-06-03T09:14:31.273Z","symbol":"XBTM19","side":"Sell","size":100,"price":8493,"tickDirection":"ZeroMinusTick","trdMatchID":"9429c93e-99b2-4bee-3bb1-2d107db5e178","grossValue":1177400,"homeNotional":0.011774,"foreignNotional":100},{"timestamp":"2019-06-03T09:14:31.273Z","symbol":"XBTM19","side":"Sell","size":200,"price":8493,"tickDirection":"ZeroMinusTick","trdMatchID":"bd15692d-e9aa-41f4-c824-46d8715d7e9e","grossValue":2354800,"homeNotional":0.023548,"foreignNotional":200},{"timestamp":"2019-06-03T09:14:31.273Z","symbol":"XBTM19","side":"Sell","size":100,"price":8493,"tickDirection":"ZeroMinusTick","trdMatchID":"6a23ae5b-ca26-c6d3-da64-ed6fc72aabaf","grossValue":1177400,"homeNotional":0.011774,"foreignNotional":100},{"timestamp":"2019-06-03T09:14:31.273Z","symbol":"XBTM19","side":"Sell","size":200,"price":8493,"tickDirection":"ZeroMinusTick","trdMatchID":"e3e3467c-af54-cebb-478f-982d7247499d","grossValue":2354800,"homeNotional":0.023548,"foreignNotional":200},{"timestamp":"2019-06-03T09:14:31.273Z","symbol":"XBTM19","side":"Sell","size":25,"price":8493,"tickDirection":"ZeroMinusTick","trdMatchID":"faa6a9ac-bf9d-0a3a-8cb3-80cf138f3d3c","grossValue":294350,"homeNotional":0.0029435,"foreignNotional":25},{"timestamp":"2019-06-03T09:14:31.273Z","symbol":"XBTM19","side":"Sell","size":100,"price":8493,"tickDirection":"ZeroMinusTick","trdMatchID":"4019127a-4c8b-5d53-af56-01c6f2166ff5","grossValue":1177400,"homeNotional":0.011774,"foreignNotional":100},{"timestamp":"2019-06-03T09:14:31.273Z","symbol":"XBTM19","side":"Sell","size":200,"price":8493,"tickDirection":"ZeroMinusTick","trdMatchID":"6f6f388a-fd32-6bbb-ab3b-db5c71758caf","grossValue":2354800,"homeNotional":0.023548,"foreignNotional":200}]}
2019-06-03 18:14:45,631 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:14:54,569 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:14:40.781Z","symbol":"XBTM19","side":"Sell","size":500,"price":8487.5,"tickDirection":"MinusTick","trdMatchID":"b81c798c-bf8b-22e9-93ed-2f0e5196cac4","grossValue":5891000,"homeNotional":0.05891,"foreignNotional":500}]}
2019-06-03 18:14:54,872 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:15:00,528 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:14:46.476Z","symbol":"XBTM19","side":"Sell","size":500,"price":8487.5,"tickDirection":"ZeroMinusTick","trdMatchID":"c3584439-983f-42ce-e187-5fd9c70d500c","grossValue":5891000,"homeNotional":0.05891,"foreignNotional":500}]}
2019-06-03 18:15:00,797 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:15:10,164 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:14:56.585Z","symbol":"XBTM19","side":"Sell","size":436,"price":8489.5,"tickDirection":"ZeroPlusTick","trdMatchID":"83219444-1881-2ea2-b4f0-8d8bb49351e8","grossValue":5135644,"homeNotional":0.05135644,"foreignNotional":436}]}
2019-06-03 18:15:10,463 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:15:23,228 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:15:07.947Z","symbol":"TRXM19","side":"Sell","size":500,"price":0.00000431,"tickDirection":"ZeroMinusTick","trdMatchID":"fa7bb292-1138-06a4-5d4d-36f976aaacf3","grossValue":215500,"homeNotional":500,"foreignNotional":0.002155}]}
2019-06-03 18:15:23,494 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:15:31,164 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:15:17.157Z","symbol":"TRXM19","side":"Sell","size":500,"price":0.00000431,"tickDirection":"ZeroMinusTick","trdMatchID":"90d3ee58-9eb4-439d-7bdf-a5620baa639e","grossValue":215500,"homeNotional":500,"foreignNotional":0.002155}]}
2019-06-03 18:15:31,503 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:15:40,060 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:15:26.310Z","symbol":"XBTM19","side":"Buy","size":484,"price":8490,"tickDirection":"ZeroPlusTick","trdMatchID":"e0fc8a71-6b74-dfa0-e4e8-83ab393f7a63","grossValue":5701036,"homeNotional":0.05701036,"foreignNotional":484},{"timestamp":"2019-06-03T09:15:26.310Z","symbol":"XBTM19","side":"Buy","size":861,"price":8490,"tickDirection":"ZeroPlusTick","trdMatchID":"c797cacd-8de9-f73f-bfb3-65a0d5a582bd","grossValue":10141719,"homeNotional":0.10141719,"foreignNotional":861},{"timestamp":"2019-06-03T09:15:26.310Z","symbol":"XBTM19","side":"Buy","size":21,"price":8490,"tickDirection":"ZeroPlusTick","trdMatchID":"ee41cc34-ecdb-93d2-db53-132cd752943a","grossValue":247359,"homeNotional":0.00247359,"foreignNotional":21},{"timestamp":"2019-06-03T09:15:26.310Z","symbol":"XBTM19","side":"Buy","size":25,"price":8490,"tickDirection":"ZeroPlusTick","trdMatchID":"38c4915f-40b8-84e3-e449-0cc7dba143e4","grossValue":294475,"homeNotional":0.00294475,"foreignNotional":25},{"timestamp":"2019-06-03T09:15:26.310Z","symbol":"XBTM19","side":"Buy","size":1435,"price":8490,"tickDirection":"ZeroPlusTick","trdMatchID":"bb8ac3bf-e4a8-bed7-5a45-1ac983765d95","grossValue":16902865,"homeNotional":0.16902865,"foreignNotional":1435},{"timestamp":"2019-06-03T09:15:26.310Z","symbol":"XBTM19","side":"Buy","size":2,"price":8490,"tickDirection":"ZeroPlusTick","trdMatchID":"fced9604-4c67-c895-1d51-9ef16f634b4e","grossValue":23558,"homeNotional":0.00023558,"foreignNotional":2},{"timestamp":"2019-06-03T09:15:26.310Z","symbol":"XBTM19","side":"Buy","size":25,"price":8490,"tickDirection":"ZeroPlusTick","trdMatchID":"f7820fd5-7f92-51ff-a8a5-68c0bcdcaefa","grossValue":294475,"homeNotional":0.00294475,"foreignNotional":25},{"timestamp":"2019-06-03T09:15:26.310Z","symbol":"XBTM19","side":"Buy","size":1147,"price":8490,"tickDirection":"ZeroPlusTick","trdMatchID":"3f90e71d-508a-28c1-9e40-46ca5d8babc3","grossValue":13510513,"homeNotional":0.13510513,"foreignNotional":1147}]}
2019-06-03 18:15:40,347 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:15:50,960 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:15:37.750Z","symbol":"XBTM19","side":"Sell","size":2000,"price":8491,"tickDirection":"ZeroPlusTick","trdMatchID":"998fdbe8-29b8-cc10-40ea-072794e659fb","grossValue":23554000,"homeNotional":0.23554,"foreignNotional":2000}]}
2019-06-03 18:15:51,228 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:16:00,516 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:15:46.908Z","symbol":"TRXM19","side":"Sell","size":80000,"price":0.00000431,"tickDirection":"ZeroMinusTick","trdMatchID":"b389a742-9231-c04a-728f-59ce3d0dabdc","grossValue":34480000,"homeNotional":80000,"foreignNotional":0.3448}]}
2019-06-03 18:16:00,892 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:16:10,005 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:15:56.513Z","symbol":"XBTM19","side":"Sell","size":500,"price":8486,"tickDirection":"ZeroMinusTick","trdMatchID":"fa839aa1-4bb3-6c41-afad-75f0ee51e494","grossValue":5892000,"homeNotional":0.05892,"foreignNotional":500}]}
2019-06-03 18:16:10,313 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:16:21,585 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:16:07.081Z","symbol":"XBTM19","side":"Sell","size":21,"price":8483,"tickDirection":"MinusTick","trdMatchID":"16d86cb1-a990-ecab-29a6-e1a78b4a44cc","grossValue":247548,"homeNotional":0.00247548,"foreignNotional":21}]}
2019-06-03 18:16:21,854 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:16:30,894 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:16:17.022Z","symbol":"ETHM19","side":"Sell","size":29,"price":0.03112,"tickDirection":"ZeroMinusTick","trdMatchID":"7b93a264-83d8-9669-71a3-4ae7c734e9b8","grossValue":90248000,"homeNotional":29,"foreignNotional":0.90248},{"timestamp":"2019-06-03T09:16:17.022Z","symbol":"ETHM19","side":"Sell","size":21,"price":0.03112,"tickDirection":"ZeroMinusTick","trdMatchID":"1415096a-bf1c-00f6-7a3b-d02105fa1569","grossValue":65352000,"homeNotional":21,"foreignNotional":0.65352}]}
2019-06-03 18:16:31,160 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:16:40,080 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:16:26.344Z","symbol":"XBTM19","side":"Buy","size":25,"price":8485,"tickDirection":"PlusTick","trdMatchID":"a1603aa7-397b-dbbc-5a32-2804f879f19e","grossValue":294650,"homeNotional":0.0029465,"foreignNotional":25},{"timestamp":"2019-06-03T09:16:26.344Z","symbol":"XBTM19","side":"Buy","size":75,"price":8485.5,"tickDirection":"PlusTick","trdMatchID":"54fb31c3-bfa3-c1f8-b7aa-4405299037f5","grossValue":883875,"homeNotional":0.00883875,"foreignNotional":75}]}
2019-06-03 18:16:40,417 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:16:54,692 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:16:40.955Z","symbol":"TRXM19","side":"Sell","size":100,"price":0.00000431,"tickDirection":"ZeroMinusTick","trdMatchID":"c8c506ca-099a-e8a2-22cf-1ec3ee303343","grossValue":43100,"homeNotional":100,"foreignNotional":0.000431}]}
2019-06-03 18:16:54,993 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:17:03,149 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:16:47.757Z","symbol":"TRXM19","side":"Sell","size":44319,"price":0.00000431,"tickDirection":"ZeroMinusTick","trdMatchID":"33d14360-9c68-9fa7-3592-84664b4bb2aa","grossValue":19101489,"homeNotional":44319,"foreignNotional":0.19101489},{"timestamp":"2019-06-03T09:16:47.757Z","symbol":"TRXM19","side":"Sell","size":25681,"price":0.00000431,"tickDirection":"ZeroMinusTick","trdMatchID":"9831d65c-2e24-10d4-ffef-ee2e9fc33e97","grossValue":11068511,"homeNotional":25681,"foreignNotional":0.11068511}]}
2019-06-03 18:17:03,486 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:17:10,130 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:16:56.201Z","symbol":"XBTM19","side":"Sell","size":25,"price":8486,"tickDirection":"MinusTick","trdMatchID":"70d9f0be-70d6-5496-b8de-295465249ee9","grossValue":294600,"homeNotional":0.002946,"foreignNotional":25},{"timestamp":"2019-06-03T09:16:56.201Z","symbol":"XBTM19","side":"Sell","size":25,"price":8486,"tickDirection":"ZeroMinusTick","trdMatchID":"bc3a47e1-bfcc-e7d9-d145-d3ce8c2f76ff","grossValue":294600,"homeNotional":0.002946,"foreignNotional":25},{"timestamp":"2019-06-03T09:16:56.201Z","symbol":"XBTM19","side":"Sell","size":25,"price":8486,"tickDirection":"ZeroMinusTick","trdMatchID":"ed36119c-1f05-1423-c622-3efb48033700","grossValue":294600,"homeNotional":0.002946,"foreignNotional":25},{"timestamp":"2019-06-03T09:16:56.201Z","symbol":"XBTM19","side":"Sell","size":25,"price":8486,"tickDirection":"ZeroMinusTick","trdMatchID":"0dc04994-f692-10e2-9f65-350c0d644351","grossValue":294600,"homeNotional":0.002946,"foreignNotional":25}]}
2019-06-03 18:17:10,419 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:17:20,216 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:17:06.529Z","symbol":"XBTM19","side":"Sell","size":87,"price":8480,"tickDirection":"MinusTick","trdMatchID":"d6a0a953-46f4-15e0-0ca6-cee7d76ee571","grossValue":1025904,"homeNotional":0.01025904,"foreignNotional":87}]}
2019-06-03 18:17:20,528 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:17:30,797 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:17:17.021Z","symbol":"TRXM19","side":"Sell","size":19260,"price":0.00000431,"tickDirection":"ZeroMinusTick","trdMatchID":"64116654-bad5-de75-e6aa-aa6793863767","grossValue":8301060,"homeNotional":19260,"foreignNotional":0.0830106},{"timestamp":"2019-06-03T09:17:17.021Z","symbol":"TRXM19","side":"Sell","size":15740,"price":0.00000431,"tickDirection":"ZeroMinusTick","trdMatchID":"e06e0980-f60a-eacd-54cf-335d42c5135e","grossValue":6783940,"homeNotional":15740,"foreignNotional":0.0678394}]}
2019-06-03 18:17:31,085 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:17:40,101 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:17:26.663Z","symbol":"TRXM19","side":"Sell","size":16467,"price":0.00000431,"tickDirection":"ZeroMinusTick","trdMatchID":"32689be5-6762-e5ca-ce06-7289678f36f2","grossValue":7097277,"homeNotional":16467,"foreignNotional":0.07097277},{"timestamp":"2019-06-03T09:17:26.663Z","symbol":"TRXM19","side":"Sell","size":3533,"price":0.00000431,"tickDirection":"ZeroMinusTick","trdMatchID":"0efcae05-c2bf-00bd-da3d-3488cb24f187","grossValue":1522723,"homeNotional":3533,"foreignNotional":0.01522723}]}
2019-06-03 18:17:40,398 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:17:54,734 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:17:40.806Z","symbol":"TRXM19","side":"Sell","size":1,"price":0.00000431,"tickDirection":"ZeroMinusTick","trdMatchID":"6a9d9e11-ff4b-d92d-eca4-f1e79f26b5cb","grossValue":431,"homeNotional":1,"foreignNotional":0.00000431}]}
2019-06-03 18:17:55,021 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:18:02,949 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:17:49.654Z","symbol":"XBTM19","side":"Sell","size":1,"price":8474,"tickDirection":"PlusTick","trdMatchID":"b81fb6b9-ea6d-6ddf-d65d-775c10f5d85a","grossValue":11801,"homeNotional":0.00011801,"foreignNotional":1}]}
2019-06-03 18:18:03,257 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-03 18:18:13,291 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-03T09:17:58.613Z","symbol":"TRXM19","side":"Buy","size":45930,"price":0.00000431,"tickDirection":"ZeroPlusTick","trdMatchID":"4b9f5aeb-9979-c631-9001-f94e66fe3590","grossValue":19795830,"homeNotional":45930,"foreignNotional":0.1979583},{"timestamp":"2019-06-03T09:17:58.613Z","symbol":"TRXM19","side":"Buy","size":104070,"price":0.00000431,"tickDirection":"ZeroPlusTick","trdMatchID":"4d644922-efab-4a71-3c30-b12af9a98152","grossValue":44854170,"homeNotional":104070,"foreignNotional":0.4485417}]}
2019-06-03 18:18:13,559 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 77, in __call__
    await self.handler(data=self.data)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 21, in __call__
    await self.callback(**kwargs)
  File "/Users/davidvanisacker/Programming/Trading/backtest/datahandler/crypto/livehandler.py", line 125, in _insert_new_bar_bitmex
    tick['open'] = previous_tick['open']
TypeError: list indices must be integers or slices, not str
2019-06-04 16:44:56,027 : WARNING : BITMEX: received no messages within timeout, restarting connection
2019-06-04 16:45:16,537 : WARNING : BITMEX: encountered connection issue WebSocket connection is closed: code = 1006 (connection closed abnormally [internal]), no reason - reconnecting...
2019-06-05 23:22:17,189 : WARNING : BITMEX: received no messages within timeout, restarting connection
2019-06-05 23:22:48,033 : WARNING : BITMEX: encountered connection issue WebSocket connection is closed: code = 1006 (connection closed abnormally [internal]), no reason - reconnecting...
2019-06-06 00:56:05,009 : WARNING : BITMEX: received no messages within timeout, restarting connection
2019-06-06 00:56:06,521 : WARNING : BITMEX: encountered connection issue WebSocket connection is closed: code = 1006 (connection closed abnormally [internal]), no reason - reconnecting...
2019-06-06 01:50:18,007 : WARNING : BITMEX: received no messages within timeout, restarting connection
2019-06-06 01:50:48,196 : WARNING : BITMEX: encountered connection issue WebSocket connection is closed: code = 1006 (connection closed abnormally [internal]), no reason - reconnecting...
2019-06-06 02:25:39,011 : WARNING : BITMEX: received no messages within timeout, restarting connection
2019-06-06 02:26:09,190 : WARNING : BITMEX: encountered connection issue WebSocket connection is closed: code = 1006 (connection closed abnormally [internal]), no reason - reconnecting...
2019-06-06 03:00:45,012 : WARNING : BITMEX: received no messages within timeout, restarting connection
2019-06-06 03:01:15,188 : WARNING : BITMEX: encountered connection issue WebSocket connection is closed: code = 1006 (connection closed abnormally [internal]), no reason - reconnecting...
2019-06-06 03:54:56,629 : WARNING : BITMEX: received no messages within timeout, restarting connection
2019-06-06 03:55:26,668 : WARNING : BITMEX: encountered connection issue WebSocket connection is closed: code = 1006 (connection closed abnormally [internal]), no reason - reconnecting...
2019-06-06 04:30:51,999 : WARNING : BITMEX: received no messages within timeout, restarting connection
2019-06-06 04:31:22,018 : WARNING : BITMEX: encountered connection issue WebSocket connection is closed: code = 1006 (connection closed abnormally [internal]), no reason - reconnecting...
2019-06-06 05:07:07,554 : WARNING : BITMEX: received no messages within timeout, restarting connection
2019-06-06 05:07:37,573 : WARNING : BITMEX: encountered connection issue WebSocket connection is closed: code = 1006 (connection closed abnormally [internal]), no reason - reconnecting...
2019-06-06 06:01:13,523 : WARNING : BITMEX: received no messages within timeout, restarting connection
2019-06-06 06:01:43,548 : WARNING : BITMEX: encountered connection issue WebSocket connection is closed: code = 1006 (connection closed abnormally [internal]), no reason - reconnecting...
2019-06-06 06:55:21,008 : WARNING : BITMEX: received no messages within timeout, restarting connection
2019-06-06 06:55:51,411 : WARNING : BITMEX: encountered connection issue WebSocket connection is closed: code = 1006 (connection closed abnormally [internal]), no reason - reconnecting...
2019-06-06 07:49:30,836 : WARNING : BITMEX: received no messages within timeout, restarting connection
2019-06-06 07:50:00,864 : WARNING : BITMEX: encountered connection issue WebSocket connection is closed: code = 1006 (connection closed abnormally [internal]), no reason - reconnecting...
2019-06-06 08:43:36,016 : WARNING : BITMEX: received no messages within timeout, restarting connection
2019-06-06 08:44:06,193 : WARNING : BITMEX: encountered connection issue WebSocket connection is closed: code = 1006 (connection closed abnormally [internal]), no reason - reconnecting...
2019-06-06 09:37:45,830 : WARNING : BITMEX: received no messages within timeout, restarting connection
2019-06-06 09:38:15,848 : WARNING : BITMEX: encountered connection issue WebSocket connection is closed: code = 1006 (connection closed abnormally [internal]), no reason - reconnecting...
2019-06-06 09:40:48,675 : WARNING : BITMEX: encountered connection issue WebSocket connection is closed: code = 1006 (connection closed abnormally [internal]), no reason - reconnecting...
2019-06-06 10:31:19,759 : WARNING : BITMEX: received no messages within timeout, restarting connection
2019-06-06 10:31:49,773 : WARNING : BITMEX: encountered connection issue WebSocket connection is closed: code = 1006 (connection closed abnormally [internal]), no reason - reconnecting...
2019-06-06 10:53:42,190 : WARNING : BITMEX: encountered connection issue WebSocket connection is closed: code = 1006 (connection closed abnormally [internal]), no reason - reconnecting...
2019-06-06 11:22:32,352 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-06T02:22:08.403Z","symbol":"XRPM19","side":"Buy","size":1500,"price":0.00005199,"tickDirection":"ZeroPlusTick","trdMatchID":"a796cded-3dd3-fd49-70da-ea2e041db707","grossValue":7798500,"homeNotional":1500,"foreignNotional":0.077985}]}
2019-06-06 11:22:32,762 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 79, in __call__
    await self.handler(data=self.data, timestamp=self.last_update)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 24, in __call__
    await loop.run_in_executor(None, self.callback, **kwargs)
TypeError: run_in_executor() got an unexpected keyword argument 'data'
2019-06-06 11:22:35,322 : ERROR : BITMEX: error handling message {"table":"trade","action":"partial","keys":[],"types":{"timestamp":"timestamp","symbol":"symbol","side":"symbol","size":"long","price":"float","tickDirection":"symbol","trdMatchID":"guid","grossValue":"long","homeNotional":"float","foreignNotional":"float"},"foreignKeys":{"symbol":"instrument","side":"side"},"attributes":{"timestamp":"sorted","symbol":"grouped"},"filter":{"symbol":"ETHM19"},"data":[{"timestamp":"2019-06-06T02:10:19.641Z","symbol":"ETHM19","side":"Buy","size":20,"price":0.03182,"tickDirection":"ZeroMinusTick","trdMatchID":"e148c7b8-2972-81d0-d4f6-247d9a396209","grossValue":63640000,"homeNotional":20,"foreignNotional":0.6364}]}
2019-06-06 11:22:35,612 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 75, in __call__
    self.data[i]['vwap'] /= self.data[i]['volume']
ZeroDivisionError: division by zero
2019-06-06 11:22:38,190 : ERROR : BITMEX: error handling message {"table":"trade","action":"partial","keys":[],"types":{"timestamp":"timestamp","symbol":"symbol","side":"symbol","size":"long","price":"float","tickDirection":"symbol","trdMatchID":"guid","grossValue":"long","homeNotional":"float","foreignNotional":"float"},"foreignKeys":{"symbol":"instrument","side":"side"},"attributes":{"timestamp":"sorted","symbol":"grouped"},"filter":{"symbol":"ETHM19"},"data":[{"timestamp":"2019-06-06T02:10:19.641Z","symbol":"ETHM19","side":"Buy","size":20,"price":0.03182,"tickDirection":"ZeroMinusTick","trdMatchID":"e148c7b8-2972-81d0-d4f6-247d9a396209","grossValue":63640000,"homeNotional":20,"foreignNotional":0.6364}]}
2019-06-06 11:22:38,496 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 75, in __call__
    self.data[i]['vwap'] /= self.data[i]['volume']
ZeroDivisionError: division by zero
2019-06-06 11:22:41,056 : ERROR : BITMEX: error handling message {"table":"trade","action":"partial","keys":[],"types":{"timestamp":"timestamp","symbol":"symbol","side":"symbol","size":"long","price":"float","tickDirection":"symbol","trdMatchID":"guid","grossValue":"long","homeNotional":"float","foreignNotional":"float"},"foreignKeys":{"symbol":"instrument","side":"side"},"attributes":{"timestamp":"sorted","symbol":"grouped"},"filter":{"symbol":"ETHM19"},"data":[{"timestamp":"2019-06-06T02:10:19.641Z","symbol":"ETHM19","side":"Buy","size":20,"price":0.03182,"tickDirection":"ZeroMinusTick","trdMatchID":"e148c7b8-2972-81d0-d4f6-247d9a396209","grossValue":63640000,"homeNotional":20,"foreignNotional":0.6364}]}
2019-06-06 11:22:41,363 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 75, in __call__
    self.data[i]['vwap'] /= self.data[i]['volume']
ZeroDivisionError: division by zero
2019-06-06 11:22:52,012 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-06T02:22:28.191Z","symbol":"XRPM19","side":"Sell","size":103,"price":0.00005198,"tickDirection":"MinusTick","trdMatchID":"98966081-a2b9-a94b-fc77-4c61bc99dad2","grossValue":535394,"homeNotional":103,"foreignNotional":0.00535394},{"timestamp":"2019-06-06T02:22:28.191Z","symbol":"XRPM19","side":"Sell","size":4897,"price":0.00005198,"tickDirection":"ZeroMinusTick","trdMatchID":"b4934c52-798a-1df8-6184-5142580a2f4f","grossValue":25454606,"homeNotional":4897,"foreignNotional":0.25454606}]}
2019-06-06 11:22:52,320 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 79, in __call__
    await self.handler(data=self.data, timestamp=self.last_update)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 24, in __call__
    await loop.run_in_executor(None, self.callback, **kwargs)
TypeError: run_in_executor() got an unexpected keyword argument 'data'
2019-06-06 11:23:10,750 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-06T02:22:47.179Z","symbol":"XBTM19","side":"Buy","size":16,"price":7816.5,"tickDirection":"MinusTick","trdMatchID":"9dc89daf-94e0-b19b-59dd-a9ce7ebf242b","grossValue":204688,"homeNotional":0.00204688,"foreignNotional":16},{"timestamp":"2019-06-06T02:22:47.179Z","symbol":"XBTM19","side":"Buy","size":3984,"price":7816.5,"tickDirection":"ZeroMinusTick","trdMatchID":"2b885866-0884-6e92-e697-d92823809b23","grossValue":50967312,"homeNotional":0.50967312,"foreignNotional":3984}]}
2019-06-06 11:23:11,058 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 79, in __call__
    await self.handler(data=self.data, timestamp=self.last_update)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 24, in __call__
    await loop.run_in_executor(None, self.callback, **kwargs)
TypeError: run_in_executor() got an unexpected keyword argument 'data'
2019-06-06 11:23:13,721 : ERROR : BITMEX: error handling message {"table":"trade","action":"partial","keys":[],"types":{"timestamp":"timestamp","symbol":"symbol","side":"symbol","size":"long","price":"float","tickDirection":"symbol","trdMatchID":"guid","grossValue":"long","homeNotional":"float","foreignNotional":"float"},"foreignKeys":{"symbol":"instrument","side":"side"},"attributes":{"timestamp":"sorted","symbol":"grouped"},"filter":{"symbol":"ETHM19"},"data":[{"timestamp":"2019-06-06T02:10:19.641Z","symbol":"ETHM19","side":"Buy","size":20,"price":0.03182,"tickDirection":"ZeroMinusTick","trdMatchID":"e148c7b8-2972-81d0-d4f6-247d9a396209","grossValue":63640000,"homeNotional":20,"foreignNotional":0.6364}]}
2019-06-06 11:23:14,027 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 79, in __call__
    await self.handler(data=self.data, timestamp=self.last_update)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 24, in __call__
    await loop.run_in_executor(None, self.callback, **kwargs)
TypeError: run_in_executor() got an unexpected keyword argument 'data'
2019-06-06 11:23:21,707 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-06T02:22:58.198Z","symbol":"LTCM19","side":"Buy","size":8,"price":0.0135,"tickDirection":"PlusTick","trdMatchID":"389efbd7-7cda-91fd-345a-4e0a42a408a9","grossValue":10800000,"homeNotional":8,"foreignNotional":0.108}]}
2019-06-06 11:23:22,015 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 79, in __call__
    await self.handler(data=self.data, timestamp=self.last_update)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 24, in __call__
    await loop.run_in_executor(None, self.callback, **kwargs)
TypeError: run_in_executor() got an unexpected keyword argument 'data'
2019-06-06 11:24:04,612 : ERROR : BITMEX: error handling message {"table":"trade","action":"insert","data":[{"timestamp":"2019-06-06T02:23:39.788Z","symbol":"XBTM19","side":"Sell","size":1,"price":7816,"tickDirection":"MinusTick","trdMatchID":"a443ae47-f417-449d-d446-53e9d420c1bb","grossValue":12794,"homeNotional":0.00012794,"foreignNotional":1},{"timestamp":"2019-06-06T02:23:39.788Z","symbol":"XBTM19","side":"Sell","size":750,"price":7816,"tickDirection":"ZeroMinusTick","trdMatchID":"b44dc715-4489-8948-9792-7adce33ef436","grossValue":9595500,"homeNotional":0.095955,"foreignNotional":750},{"timestamp":"2019-06-06T02:23:39.788Z","symbol":"XBTM19","side":"Sell","size":2,"price":7815.5,"tickDirection":"MinusTick","trdMatchID":"33e17346-3563-2bb4-6abc-603d5ff80292","grossValue":25590,"homeNotional":0.0002559,"foreignNotional":2},{"timestamp":"2019-06-06T02:23:39.788Z","symbol":"XBTM19","side":"Sell","size":247,"price":7815,"tickDirection":"MinusTick","trdMatchID":"6fcb7125-e730-b63d-10aa-c5c46e929ca7","grossValue":3160612,"homeNotional":0.03160612,"foreignNotional":247}]}
2019-06-06 11:24:04,919 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 79, in __call__
    await self.handler(data=self.data, timestamp=self.last_update)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 24, in __call__
    await loop.run_in_executor(None, self.callback, **kwargs)
TypeError: run_in_executor() got an unexpected keyword argument 'data'
2019-06-06 11:24:07,479 : ERROR : BITMEX: error handling message {"table":"trade","action":"partial","keys":[],"types":{"timestamp":"timestamp","symbol":"symbol","side":"symbol","size":"long","price":"float","tickDirection":"symbol","trdMatchID":"guid","grossValue":"long","homeNotional":"float","foreignNotional":"float"},"foreignKeys":{"symbol":"instrument","side":"side"},"attributes":{"timestamp":"sorted","symbol":"grouped"},"filter":{"symbol":"ETHM19"},"data":[{"timestamp":"2019-06-06T02:10:19.641Z","symbol":"ETHM19","side":"Buy","size":20,"price":0.03182,"tickDirection":"ZeroMinusTick","trdMatchID":"e148c7b8-2972-81d0-d4f6-247d9a396209","grossValue":63640000,"homeNotional":20,"foreignNotional":0.6364}]}
2019-06-06 11:24:07,763 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 79, in __call__
    await self.handler(data=self.data, timestamp=self.last_update)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 24, in __call__
    await loop.run_in_executor(None, self.callback, **kwargs)
TypeError: run_in_executor() got an unexpected keyword argument 'data'
2019-06-06 11:24:10,346 : ERROR : BITMEX: error handling message {"table":"trade","action":"partial","keys":[],"types":{"timestamp":"timestamp","symbol":"symbol","side":"symbol","size":"long","price":"float","tickDirection":"symbol","trdMatchID":"guid","grossValue":"long","homeNotional":"float","foreignNotional":"float"},"foreignKeys":{"symbol":"instrument","side":"side"},"attributes":{"timestamp":"sorted","symbol":"grouped"},"filter":{"symbol":"ETHM19"},"data":[{"timestamp":"2019-06-06T02:10:19.641Z","symbol":"ETHM19","side":"Buy","size":20,"price":0.03182,"tickDirection":"ZeroMinusTick","trdMatchID":"e148c7b8-2972-81d0-d4f6-247d9a396209","grossValue":63640000,"homeNotional":20,"foreignNotional":0.6364}]}
2019-06-06 11:24:10,653 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 79, in __call__
    await self.handler(data=self.data, timestamp=self.last_update)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 24, in __call__
    await loop.run_in_executor(None, self.callback, **kwargs)
TypeError: run_in_executor() got an unexpected keyword argument 'data'
2019-06-06 11:24:13,372 : ERROR : BITMEX: error handling message {"table":"trade","action":"partial","keys":[],"types":{"timestamp":"timestamp","symbol":"symbol","side":"symbol","size":"long","price":"float","tickDirection":"symbol","trdMatchID":"guid","grossValue":"long","homeNotional":"float","foreignNotional":"float"},"foreignKeys":{"symbol":"instrument","side":"side"},"attributes":{"timestamp":"sorted","symbol":"grouped"},"filter":{"symbol":"ETHM19"},"data":[{"timestamp":"2019-06-06T02:10:19.641Z","symbol":"ETHM19","side":"Buy","size":20,"price":0.03182,"tickDirection":"ZeroMinusTick","trdMatchID":"e148c7b8-2972-81d0-d4f6-247d9a396209","grossValue":63640000,"homeNotional":20,"foreignNotional":0.6364}]}
2019-06-06 11:24:13,725 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 79, in __call__
    await self.handler(data=self.data, timestamp=self.last_update)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 24, in __call__
    await loop.run_in_executor(None, self.callback, **kwargs)
TypeError: run_in_executor() got an unexpected keyword argument 'data'
2019-06-06 11:24:16,900 : ERROR : BITMEX: error handling message {"table":"trade","action":"partial","keys":[],"types":{"timestamp":"timestamp","symbol":"symbol","side":"symbol","size":"long","price":"float","tickDirection":"symbol","trdMatchID":"guid","grossValue":"long","homeNotional":"float","foreignNotional":"float"},"foreignKeys":{"symbol":"instrument","side":"side"},"attributes":{"timestamp":"sorted","symbol":"grouped"},"filter":{"symbol":"ETHM19"},"data":[{"timestamp":"2019-06-06T02:10:19.641Z","symbol":"ETHM19","side":"Buy","size":20,"price":0.03182,"tickDirection":"ZeroMinusTick","trdMatchID":"e148c7b8-2972-81d0-d4f6-247d9a396209","grossValue":63640000,"homeNotional":20,"foreignNotional":0.6364}]}
2019-06-06 11:24:17,207 : ERROR : BITMEX: encountered an exception, reconnecting
Traceback (most recent call last):
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 163, in _connect
    await self._handler(websocket, feed.message_handler, feed.id)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/feedhandler.py", line 181, in _handler
    await handler(message)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 220, in message_handler
    await self._trade(msg)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/bitmex/bitmex.py", line 84, in _trade
    timestamp=data['timestamp'])
  File "/Users/davidvanisacker/Programming/Trading/backtest/utils/aggregate.py", line 79, in __call__
    await self.handler(data=self.data, timestamp=self.last_update)
  File "/Users/davidvanisacker/backtest/lib/python3.7/site-packages/cryptofeed/callback.py", line 24, in __call__
    await loop.run_in_executor(None, self.callback, **kwargs)
TypeError: run_in_executor() got an unexpected keyword argument 'data'
